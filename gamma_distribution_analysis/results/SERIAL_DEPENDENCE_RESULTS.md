# Serial Dependence Analysis Report (Updated)

**Analysis date**: 2026-02-16  
**Instrument**: Sanofi (FR0000120578)  
**Data source**: `sanofi_book_snapshots_1s.parquet`  
**Time range**: 2019-10-01 09:00:18.178966266+02:00 to 2019-10-01 17:29:59.178966266+02:00  
**Session length**: 8h 29m 41s  
**Usable samples**: BID = 30,582, ASK = 30,582 (`log(volume1)` with `volume1 > 0`)

---

## 1. Methods and Run Configuration

| Method | Script | Key parameters |
|---|---|---|
| Traditional ACF | `scripts/run_traditional_acf.py` | `nlags=100`, `method='fft'` |
| Garcin-Brouty | `scripts/run_garcin_brouty.py` | `max_L=20` |

Notes:
- Both pipelines now read snapshots directly from `sanofi_book_snapshots_1s.parquet`.
- In this environment, `statsmodels` is unavailable, so ACF/Ljung-Box used the manual fallback implementation in `traditional_acf_analysis.py`.

---

## 2. Traditional ACF Results

### 2.1 Core statistics

| Side | Mean log-volume | Std log-volume |
|---|---:|---:|
| BID | 5.6479 | 1.0243 |
| ASK | 5.7940 | 0.9738 |

### 2.2 Dependence metrics

| Side | ACF(1) | ACF(5) | ACF(10) | ACF(20) | Half-life (lags) |
|---|---:|---:|---:|---:|---:|
| BID | 0.7687 | 0.4083 | 0.2456 | 0.1186 | 2.64 |
| ASK | 0.7628 | 0.3976 | 0.2358 | 0.1218 | 2.56 |

### 2.3 Significance

- 95% confidence bound: `+-0.0112`
- Significant lags:
  - BID: `100 / 100`
  - ASK: `100 / 100`
- Ljung-Box rejections at alpha=0.05:
  - BID: `100 / 100`
  - ASK: `100 / 100`
- Ljung-Box p-values at lag 5/10/20 are numerically 0 (machine underflow), i.e. effectively extremely significant.

Interpretation:
- Strong short-term persistence exists on both sides.
- Dependence decays with lag but remains clearly positive through 20 seconds.
- BID and ASK show very similar autocorrelation structure.

---

## 3. Garcin-Brouty Results (Information-Theoretic)

### 3.1 Headline metrics

| Side | Max information | L at max information | Half-life L |
|---|---:|---:|---:|
| BID | 0.9994 | 1 | 1 |
| ASK | 0.9993 | 1 | 1 |

### 3.2 Information profile (selected L)

| Side | I(L=1) | I(L=5) | I(L=10) | I(L=20) |
|---|---:|---:|---:|---:|
| BID | 0.9994 | 0.2390 | 0.2400 | 0.6299 |
| ASK | 0.9993 | 0.1809 | 0.1847 | 0.6805 |

### 3.3 Entropy at L=1

| Side | H_market(L=1) | H_emh(L=1) |
|---|---:|---:|
| BID | 0.0006 | 1.0000 |
| ASK | 0.0007 | 1.0000 |

Interpretation:
- The symbolic sequence shows very strong one-step predictability (`L=1`) for both BID and ASK.
- Peak information is almost identical across sides.

---

## 4. Cross-Method Conclusion

Both methods indicate strong serial dependence:

- ACF confirms persistent linear dependence (high ACF(1), all 100 lags significant).
- Garcin-Brouty confirms strong dependence in symbolic dynamics (high information at `L=1`).

Overall conclusion:
- The volume process at 1-second resolution is not memoryless.
- There is substantial short-horizon predictability in both sides of the book.

---

## 5. Output Files (Current Pipeline)

Generated by current scripts:

1. `05_traditional_acf.png`
2. `06_ljung_box_test.png`
3. `07_gb_information_quantity.png`
4. `08_gb_entropy_comparison.png`
5. `09_gb_conditional_probs.png`

---

## 6. Reproducibility

```powershell
$env:PYTHONIOENCODING='utf-8'
python gamma_distribution_analysis/scripts/run_traditional_acf.py
python gamma_distribution_analysis/scripts/run_garcin_brouty.py
```
